(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my-like/like"],{"1b83":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var c=function(){var e=this,t=e.$createElement,n=(e._self._c,e.LikeList.length>0?e.__map(e.LikeList,(function(t,n){var i=e.__get_orig(t),c=t.name.length>20?t.name.substr(0,20):null;return{$orig:i,g0:c}})):null),i=e.LikeList.length>0&&e.isNavBar?e.checkedAll():null;e._isMounted||(e.e0=function(t){e.isNavBar=!e.isNavBar}),e.$mp.data=Object.assign({},{$root:{l0:n,m0:i}})},s=[]},"2e3b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("26cb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={data:function(){return{isNavBar:!1,LikeList:[],selectedList:[],catalogs:[],showCata:!1}},mounted:function(){var t=this,n=this;e.getStorageSync("user").phone;this.showAll(),n.api.get("/catalogs").then((function(e){t.catalogs=e}))},methods:s(s(s({},(0,i.mapActions)(["checkedAllFn","deleteFn"])),(0,i.mapMutations)(["selectedItem"])),{},{showCatalogs:function(){this.showCata=!this.showCata},showAll:function(){var t=this,n=e.getStorageSync("user").phone;this.api.get("/all/likes",{phone:n}).then((function(e){t.LikeList=e,t.LikeList.forEach((function(e){t.$set(e,"checked",!1)})),console.log(t.LikeList)})).catch((function(e){}))},showCatalog:function(t){var n=this,i=this,c=e.getStorageSync("user").phone;i.api.get("/catalog/likes",{phone:c,catalog:t}).then((function(e){console.log(e),0!=e.length?(n.LikeList=e,n.LikeList.forEach((function(e){n.$set(e,"checked",!1)}))):i.$toast("您尚未收藏过该分类的商品")})),this.showCatalogs()},checkAll:function(){for(var e=0;e<this.LikeList.length;e++)this.LikeList[e].checked=!0,this.selectedList.push(e);console.log(this.selectedList)},unCheckAll:function(){this.LikeList.forEach((function(e){e.checked=!1})),this.selectedList=[]},selectedItem:function(e){var t=e,n=this.selectedList.indexOf(t);if(n>-1)return this.LikeList[e].checked=!1,this.selectedList.splice(n,1);this.LikeList[e].checked=!0,this.selectedList.push(t),console.log(this.selectedList)},checkedAll:function(){return this.LikeList.length<=this.selectedList.length},checkedAllFn:function(){this.checkedAll()?this.unCheckAll():this.checkAll()},deleteFn:function(){var t=this,n=[];this.selectedList.forEach((function(e){n.push(t.LikeList[e].number)}));var i=this,c=e.getStorageSync("user").phone;i.api.del("/likes",{phone:c,numbers:n}),e.redirectTo({url:"like"}),e.showToast({title:"删除成功",icon:"none"})},toDetail:function(t){e.navigateTo({url:"/pages/detail/index?number=".concat(t)})}})};t.default=r}).call(this,n("543d")["default"])},"3af8":function(e,t,n){"use strict";n.r(t);var i=n("1b83"),c=n("d773");for(var s in c)"default"!==s&&function(e){n.d(t,e,(function(){return c[e]}))}(s);n("abe2");var o,r=n("f0c5"),a=Object(r["a"])(c["default"],i["b"],i["c"],!1,null,"1e4f8466",null,!1,i["a"],o);t["default"]=a.exports},a6e7:function(e,t,n){"use strict";(function(e){n("df27");i(n("66fd"));var t=i(n("3af8"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},abe2:function(e,t,n){"use strict";var i=n("ebbc"),c=n.n(i);c.a},d773:function(e,t,n){"use strict";n.r(t);var i=n("2e3b"),c=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=c.a},ebbc:function(e,t,n){}},[["a6e7","common/runtime","common/vendor"]]]);