(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my-like/like"],{229:function(e,t,n){"use strict";(function(e){n(5);i(n(4));var t=i(n(230));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},230:function(e,t,n){"use strict";n.r(t);var i=n(231),c=n(233);for(var r in c)"default"!==r&&function(e){n.d(t,e,(function(){return c[e]}))}(r);n(235);var s,o=n(11),a=Object(o["default"])(c["default"],i["render"],i["staticRenderFns"],!1,null,"3e458e27",null,!1,i["components"],s);a.options.__file="pages/my-like/like.vue",t["default"]=a.exports},231:function(e,t,n){"use strict";n.r(t);var i=n(232);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},232:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return c})),n.d(t,"staticRenderFns",(function(){return s})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return i}));var c=function(){var e=this,t=e.$createElement,n=(e._self._c,e.LikeList.length>0?e.__map(e.LikeList,(function(t,n){var i=e.__get_orig(t),c=t.name.length>20?t.name.substr(0,20):null;return{$orig:i,g0:c}})):null),i=e.LikeList.length>0&&e.isNavBar?e.checkedAll():null;e._isMounted||(e.e0=function(t){e.isNavBar=!e.isNavBar}),e.$mp.data=Object.assign({},{$root:{l0:n,m0:i}})},r=!1,s=[];c._withStripped=!0},233:function(e,t,n){"use strict";n.r(t);var i=n(234),c=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=c.a},234:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(13);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={data:function(){return{isNavBar:!1,LikeList:[],selectedList:[],catalogs:[],showCata:!1}},mounted:function(){var t=this,n=this;e.getStorageSync("user").phone;this.showAll(),n.api.get("/catalogs").then((function(e){t.catalogs=e}))},methods:r(r(r({},(0,i.mapActions)(["checkedAllFn","deleteFn"])),(0,i.mapMutations)(["selectedItem"])),{},{showCatalogs:function(){this.showCata=!this.showCata},showAll:function(){var t=this,n=e.getStorageSync("user").phone;this.api.get("/all/likes",{phone:n}).then((function(e){t.LikeList=e,t.LikeList.forEach((function(e){t.$set(e,"checked",!1)})),console.log(t.LikeList)})).catch((function(e){}))},showCatalog:function(t){var n=this,i=this,c=e.getStorageSync("user").phone;i.api.get("/catalog/likes",{phone:c,catalog:t}).then((function(e){console.log(e),0!=e.length?(n.LikeList=e,n.LikeList.forEach((function(e){n.$set(e,"checked",!1)}))):i.$toast("您尚未收藏过该分类的商品")})),this.showCatalogs()},checkAll:function(){for(var e=0;e<this.LikeList.length;e++)this.LikeList[e].checked=!0,this.selectedList.push(e);console.log(this.selectedList)},unCheckAll:function(){this.LikeList.forEach((function(e){e.checked=!1})),this.selectedList=[]},selectedItem:function(e){var t=e,n=this.selectedList.indexOf(t);if(n>-1)return this.LikeList[e].checked=!1,this.selectedList.splice(n,1);this.LikeList[e].checked=!0,this.selectedList.push(t),console.log(this.selectedList)},checkedAll:function(){return this.LikeList.length<=this.selectedList.length},checkedAllFn:function(){this.checkedAll()?this.unCheckAll():this.checkAll()},deleteFn:function(){var t=this,n=[];this.selectedList.forEach((function(e){n.push(t.LikeList[e].number)}));var i=this,c=e.getStorageSync("user").phone;i.api.del("/likes",{phone:c,numbers:n}),e.redirectTo({url:"like"}),e.showToast({title:"删除成功",icon:"none"})},toDetail:function(t){e.navigateTo({url:"/pages/detail/index?number=".concat(t)})}})};t.default=o}).call(this,n(1)["default"])},235:function(e,t,n){"use strict";n.r(t);var i=n(236),c=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=c.a},236:function(e,t,n){}},[[229,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/my-like/like.js.map