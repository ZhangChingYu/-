{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?16b4","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?c8f7","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?ca4b","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?3877","uni-app:///pages/userManage/userManage.vue","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?508a","webpack:///E:/Hbuilder/Second-Hand-Service/pages/userManage/userManage.vue?af1b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,4G,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACkL;AAClL,gBAAgB,2LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAqqB,CAAgB,0rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoHzrB;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,gBAFA;AAGA,oBAHA,EAGA;AACA,aAJA;AAKA,mBALA,EAKA;AACA,aANA;AAOA,eAPA,EAOA;AACA,aARA;AASA,eATA;AAUA,sBAVA;AAWA,uBAXA;AAYA,mBAZA,CAYA;AAZA;AAcA,GAhBA;AAiBA,SAjBA,qBAiBA;AACA;AACA;AACA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA,KAHA;AAIA,GApCA;AAqCA;AACA;AACA,UAFA,oBAEA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,YAFA,CAEA;AACA;AACA,SAJA;AAKA,OAPA,MAOA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KAjBA;AAkBA;AACA,WAnBA,qBAmBA;AACA;AACA;AACA;AACA,mBADA;AAEA,sCAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aALA;AAMA,WAhBA,MAgBA;AACA;AACA;AACA,SAvBA;;AAyBA,KA/CA;AAgDA;AACA,UAjDA,oBAiDA;AACA;AACA,KAnDA;AAoDA;AACA,YArDA,oBAqDA,OArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA,KA3DA;AA4DA;AACA,cA7DA,sBA6DA,OA7DA,EA6DA,MA7DA,EA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAVA;;AAYA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,wBAHA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA,OARA;AASA,KAxFA;AAyFA;AACA,cA1FA,wBA0FA;AACA;AACA,KA5FA;AA6FA;AACA,gBA9FA,0BA8FA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KApGA;AAqGA;AACA,gBAtGA,wBAsGA,KAtGA,EAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;AAmHA;AACA,YApHA,sBAoHA;AACA;AACA;AACA;AACA;AACA;AACA,KA1HA;AA2HA;AACA,cA5HA,wBA4HA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAjIA;AAkIA,YAlIA,oBAkIA,KAlIA,EAkIA;AACA;AACA;AACA,yDADA;;AAGA,KAvIA;AAwIA;AACA,UAzIA,oBAyIA;AACA;AACA,KA3IA;AA4IA;AACA,UA7IA,oBA6IA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,gBADA;AAEA,sBAFA;AAGA,UAHA,CAGA;AACA;AACA,OALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAlKA;AAmKA,aAnKA,qBAmKA,GAnKA,EAmKA;AACA;AACA,KArKA,EArCA,E;;;;;;;;;;;;;ACpHA;AAAA;AAAA;AAAA;AAAi9B,CAAgB,28BAAG,EAAC,C;;;;;;;;;;;ACAr+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/userManage/userManage.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/userManage/userManage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./userManage.vue?vue&type=template&id=684da546&\"\nvar renderjs\nimport script from \"./userManage.vue?vue&type=script&lang=js&\"\nexport * from \"./userManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userManage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/userManage/userManage.vue\"\nexport default component.exports","export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userManage.vue?vue&type=template&id=684da546&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.checkedAll()\n\n  var l0 = _vm.__map(_vm.users, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = item.userName.length > 5 ? item.userName.substr(0, 5) : null\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userManage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!--遮挡-->\r\n\t\t<view style=\"width: 100%; height: 180rpx; z-index: 9996; position: fixed; top: 0; background-color: white;\">\r\n\t\t</view>\r\n\t\t<!--搜索-->\r\n\t\t<view class=\"search\">\r\n\t\t\t<input placeholder=\"请输入用户名/真实姓名\" v-model=\"searchValue\" />\r\n\t\t\t<image src=\"../../static/image/searchUser.png\" @click=\"search()\" mode=\"heightFix\"></image>\r\n\t\t</view>\r\n\r\n\t\t<!--筛选-->\r\n\t\t<view class=\"catalogs\">\r\n\t\t\t<!--权限-->\r\n\t\t\t<view class=\"cataContent\">\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog!=1\" style=\"color: #7f7774;\" @tap=\"showCata(1)\">权限▶</span>\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog==1\" style=\"color: #d04b41;\" @tap=\"showCata(1)\">权限◢</span>\r\n\t\t\t</view>\r\n\t\t\t<!--违规-->\r\n\t\t\t<view class=\"cataContent\">\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog!=2\" style=\"color: #7f7774;\" @tap=\"showCata(2)\">违规▶</span>\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog==2\" style=\"color: #d04b41;\" @tap=\"showCata(2)\">违规◢</span>\r\n\t\t\t</view>\r\n\t\t\t<!--交易-->\r\n\t\t\t<view class=\"cataContent\">\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog!=3\" style=\"color: #7f7774;\" @tap=\"showCata(3)\">交易▶</span>\r\n\t\t\t\t<span class=\"catalog\" v-show=\"catalog==3\" style=\"color: #d04b41;\" @tap=\"showCata(3)\">交易◢</span>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--选项-->\r\n\t\t<view class=\"selects\" v-show=\"catalog==1\" style=\"margin-left: 0%; margin-right: 66%;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li @tap=\"showSelect(1,-1)\">全部<text v-if=\"per==-1\" style=\"color: #d04b41;\">√</text></li>\r\n\t\t\t\t<li v-for=\"(item,index) of permission\" :key=\"index\" @click=\"showSelect(1,item.number)\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t<text v-if=\"per==item.number\" style=\"color: #d04b41;\">√</text>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</view>\r\n\t\t<view class=\"selects\" v-show=\"catalog==2\" style=\"margin-left: 33%; margin-right: 33%;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li @tap=\"showSelect(2,-1)\">全部<text v-if=\"vio==-1\" style=\"color: #d04b41;\">√</text></li>\r\n\t\t\t\t<li v-for=\"(item,index) of violation\" :key=\"index\" @click=\"showSelect(2,item.number)\">\r\n\t\t\t\t\t{{item.range}}\r\n\t\t\t\t\t<text v-if=\"vio==item.number\" style=\"color: #d04b41;\">√</text>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</view>\r\n\t\t<view class=\"selects\" v-show=\"catalog==3\" style=\"margin-left: 66%;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li @tap=\"showSelect(3,-1)\">全部<text v-if=\"tra==-1\" style=\"color: #d04b41;\">√</text></li>\r\n\t\t\t\t<li v-for=\"(item,index) of trade\" :key=\"index\" @click=\"showSelect(3,item.number)\">\r\n\t\t\t\t\t{{item.range}}\r\n\t\t\t\t\t<text v-if=\"tra==item.number\" style=\"color: #d04b41;\">√</text>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</view>\r\n\r\n\t\t<!--用户数据条-->\r\n\t\t<view class=\"userContent\">\r\n\t\t\t<!--全选-->\r\n\t\t\t<view class=\"chooseAll\">\r\n\t\t\t\t<label class=\"radio\" @tap=\"checkedAllFn()\">\r\n\t\t\t\t\t<radio value=\"\" color=\"#d04b41\" :checked=\"checkedAll()\"></radio><text>全选</text>\r\n\t\t\t\t</label>\r\n\t\t\t</view>\r\n\t\t\t<!--每条数据-->\r\n\t\t\t<view class=\"user\" v-for=\"(item,index) of users\" :key=\"index\">\r\n\t\t\t\t<label class=\"radio\" @tap=\"selectedItem(index)\" style=\"margin-left: 10rpx;\">\r\n\t\t\t\t\t<radio value=\"\" color=\"#d04b41\" :checked=\"item.checked\"></radio>\r\n\t\t\t\t</label>\r\n\t\t\t\t<image class=\"avatar\" :src=\"'data:image/jpg;base64,' + item.avatar\" @tap=\"toDetail(item.phone)\"\r\n\t\t\t\t\tmode=\"scaleToFill\">\r\n\t\t\t\t</image>\r\n\t\t\t\t<view class=\"userInfo\" @tap=\"toDetail(item.phone)\">\r\n\t\t\t\t\t<view class=\"text\" v-if=\"item.userName.length>5\">用户名：{{item.userName.substr(0,5)}}...</view>\r\n\t\t\t\t\t<view class=\"text\" v-else>用户名：{{item.userName}}</view>\r\n\t\t\t\t\t<view class=\"text\">真实姓名：{{item.realName}}</view>\r\n\t\t\t\t\t<view class=\"text\">违规次数：{{item.violationCount}}</view>\r\n\t\t\t\t\t<view class=\"text\">权限：{{item.authority}}</view>\r\n\t\t\t\t\t<view class=\"text\">买入：{{item.buy}}</view>\r\n\t\t\t\t\t<view class=\"text\">卖出：{{item.sell}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!--底部操作选项-->\r\n\t\t<view class=\"btns\">\r\n\t\t\t<button @click=\"delUser()\">删除选中用户</button>\r\n\t\t\t<button @click=\"change()\">修改用户权限</button>\r\n\t\t</view>\r\n\r\n\t\t<!--修改弹窗-->\r\n\t\t<view class=\"popup\" v-show=\"showChange\">\r\n\t\t\t<view class=\"popup-info\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text>请选择您要更改为权限：</text>\r\n\t\t\t\t\t<view v-for=\"(item,index) of permission\" :key=\"index\"\r\n\t\t\t\t\t\tstyle=\"justify-items: flex-start; margin-top: 20rpx;\">\r\n\t\t\t\t\t\t<label class=\"radio\" @tap=\"changePer(item.number)\">\r\n\t\t\t\t\t\t\t<radio value=\"\" color=\"#d04b41\" :checked=\"changeper==item.number\"></radio>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"popup-btn\">\r\n\t\t\t\t\t<view><button type=\"default\" class=\"popBtn\" @tap=\"cancel\">取消</button></view>\r\n\t\t\t\t\t<view><button type=\"default\" class=\"popBtn\" @tap=\"affirm\">确认</button></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchValue: '',\r\n\t\t\t\tcatalog: 0,\r\n\t\t\t\tpermission: [], //权限\r\n\t\t\t\tper: -1,\r\n\t\t\t\tviolation: [], //违规\r\n\t\t\t\tvio: -1,\r\n\t\t\t\ttrade: [], //交易\r\n\t\t\t\ttra: -1,\r\n\t\t\t\tusers: [],\r\n\t\t\t\tselectedList: [],\r\n\t\t\t\tshowChange: false,\r\n\t\t\t\tchangeper: -1, //更改权限\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet that = this;\r\n\t\t\t//获取所有用户、权限、违规和交易目录\r\n\t\t\tthat.api.get('/manage/user/all').then(res => {\r\n\t\t\t\tthat.users = res.data;\r\n\t\t\t\tconsole.log('users:', that.users)\r\n\t\t\t})\r\n\t\t\tthat.api.get('/manage/select/authority').then(res => {\r\n\t\t\t\tthat.permission = res.data;\r\n\t\t\t\tconsole.log('authority:', that.permission)\r\n\t\t\t})\r\n\t\t\tthat.api.get('/manage/select/violation').then(res => {\r\n\t\t\t\tthat.violation = res.data;\r\n\t\t\t\tconsole.log('violation:', that.violation)\r\n\t\t\t})\r\n\t\t\tthat.api.get('/manage/select/trade').then(res => {\r\n\t\t\t\tthat.trade = res.data;\r\n\t\t\t\tconsole.log('trade:', that.trade)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//搜索用户\r\n\t\t\tsearch() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (this.searchValue != '') {\r\n\t\t\t\t\tlet name = this.searchValue;\r\n\t\t\t\t\tthat.api.get('/manage/user/name', {\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthat.users = res.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.api.get('/manage/user/all').then(res => {\r\n\t\t\t\t\t\tthat.users = res.data;\r\n\t\t\t\t\t\tconsole.log('users:', that.users)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//删除用户\r\n\t\t\tdelUser() {\r\n\t\t\t\tlet selects=this.selectedList;\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '警告',\r\n\t\t\t\t\tcontent: '确认要删除选中用户吗？（数据不可复原）',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tlet ids = [];\r\n\t\t\t\t\t\t\tselects.forEach(item => {\r\n\t\t\t\t\t\t\t\tids.push(that.users[item].id);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.api.del('/manage/user/delete', ids).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t//刷新users\r\n\t\t\t\t\t\t\tthat.api.get('/manage/user/all').then(res => {\r\n\t\t\t\t\t\t\t\tthat.users = res.data;\r\n\t\t\t\t\t\t\t\tthat.per = -1;\r\n\t\t\t\t\t\t\t\tthat.vio = -1;\r\n\t\t\t\t\t\t\t\tthat.tra = -1;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//修改用户权限\r\n\t\t\tchange() {\r\n\t\t\t\tthis.showChange = true\r\n\t\t\t},\r\n\t\t\t//点击筛选条件\r\n\t\t\tshowCata(catalog) {\r\n\t\t\t\tif (catalog == this.catalog) {\r\n\t\t\t\t\tthis.catalog = 0;\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tthis.catalog = catalog;\r\n\t\t\t},\r\n\t\t\t//筛选\r\n\t\t\tshowSelect(catalog, number) {\r\n\t\t\t\tconsole.log(catalog, number)\r\n\t\t\t\tswitch (catalog) {\r\n\t\t\t\t\t//选中权限\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.per = number;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.vio = number;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis.tra = number;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlet number1 = this.per;\r\n\t\t\t\tlet number2 = this.vio;\r\n\t\t\t\tlet number3 = this.tra;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.api.get('/manage/user/select', {\r\n\t\t\t\t\tnumber1,\r\n\t\t\t\t\tnumber2,\r\n\t\t\t\t\tnumber3\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.users = res.data;\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tconsole.log(number1,number2,number3)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//判断是否全选\r\n\t\t\tcheckedAll() {\r\n\t\t\t\treturn this.users.length <= this.selectedList.length;\r\n\t\t\t},\r\n\t\t\t//点击全选\r\n\t\t\tcheckedAllFn() {\r\n\t\t\t\tif (this.checkedAll()) {\r\n\t\t\t\t\tthis.unCheckAll();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkAll();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//单选\r\n\t\t\tselectedItem(index) {\r\n\t\t\t\tlet id = index;\r\n\t\t\t\tlet i = this.selectedList.indexOf(id);\r\n\t\t\t\t//如果selectedList数组里已经存在就代表他之前就是选中状态，checked=false，并且selectedList删除\r\n\t\t\t\tif (i > -1) {\r\n\t\t\t\t\tthis.users[index].checked = false;\r\n\t\t\t\t\treturn this.selectedList.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t\t//如果之前没有选中，把当前id添加到list\r\n\t\t\t\tthis.users[index].checked = true;\r\n\t\t\t\tthis.selectedList.push(id);\r\n\t\t\t\tconsole.log(this.selectedList);\r\n\t\t\t},\r\n\t\t\t//全选\r\n\t\t\tcheckAll() {\r\n\t\t\t\tfor (let i = 0; i < this.users.length; i++) {\r\n\t\t\t\t\tthis.users[i].checked = true;\r\n\t\t\t\t\tthis.selectedList.push(i);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.selectedList)\r\n\t\t\t},\r\n\t\t\t//全不选\r\n\t\t\tunCheckAll() {\r\n\t\t\t\tthis.users.forEach(v => {\r\n\t\t\t\t\tv.checked = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.selectedList = []\r\n\t\t\t},\r\n\t\t\ttoDetail(phone) {\r\n\t\t\t\tconsole.log(phone)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/userDetail/userDetail?data=\" + phone\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击弹窗取消\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.showChange = false;\r\n\t\t\t},\r\n\t\t\t// 点击弹窗确认\r\n\t\t\taffirm() {\r\n\t\t\t\tthis.showChange = false;\r\n\t\t\t\tlet ids = [];\r\n\t\t\t\tthis.selectedList.forEach(item => {\r\n\t\t\t\t\tids.push(this.users[item].id);\r\n\t\t\t\t})\r\n\t\t\t\tlet number = this.changeper;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.api.put('/manage/user/authority', {\r\n\t\t\t\t\tids,\r\n\t\t\t\t\tnumber\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t})\r\n\t\t\t\t//刷新users\r\n\t\t\t\tthat.api.get('/manage/user/all').then(res => {\r\n\t\t\t\t\tthis.users = res.data;\r\n\t\t\t\t\tthis.per = -1;\r\n\t\t\t\t\tthis.vio = -1;\r\n\t\t\t\t\tthis.tra = -1;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePer(num) {\r\n\t\t\t\tthis.changeper = num;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.search {\r\n\t\twidth: 90%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 20rpx;\r\n\t\tborder: 2rpx solid #d04b41;\r\n\t\tborder-radius: 15rpx;\r\n\t\tposition: fixed;\r\n\t\ttop: 20rpx;\r\n\t\tbackground-color: white;\r\n\t\tz-index: 9997;\r\n\t}\r\n\r\n\t.search>input {\r\n\t\twidth: 80%;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.search>image {\r\n\t\twidth: 10%;\r\n\t\theight: 60rpx;\r\n\t\tpadding-left: 20rpx;\r\n\t\tborder-left: 1rpx solid #d04b41;\r\n\t}\r\n\r\n\t.catalogs {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tborder: 2rpx solid gray;\r\n\t\tposition: fixed;\r\n\t\ttop: 120rpx;\r\n\t\theight: 60rpx;\r\n\t\talign-items: center;\r\n\t\tbackground-color: white;\r\n\t\tz-index: 9997;\r\n\t}\r\n\r\n\t.cataContent {\r\n\t\twidth: 33%;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.userContent {\r\n\t\twidth: 90%;\r\n\t\tmargin-top: 200rpx;\r\n\t\tmargin-bottom: 150rpx;\r\n\t\tfont-size: medium;\r\n\t}\r\n\r\n\t.user {\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tborder: 2rpx solid #d04b41;\r\n\t\tborder-radius: 15rpx;\r\n\t\theight: 200rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 150rpx;\r\n\t\theight: 150rpx;\r\n\t\tborder: 2rpx solid #d04b41;\r\n\t\tborder-radius: 15rpx;\r\n\t}\r\n\r\n\t.userInfo {\r\n\t\twidth: 70%;\r\n\t\tmargin-left: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: small;\r\n\t\twidth: 45%;\r\n\t\tmargin-left: 10rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\ttext-decoration: underline;\r\n\t\ttext-decoration-color: #d04b41;\r\n\t}\r\n\r\n\t.selects {\r\n\t\tposition: fixed;\r\n\t\ttop: 180rpx;\r\n\t\tborder: 1rpx solid grey;\r\n\t\tpadding: 10rpx 40rpx;\r\n\t\tz-index: 9997;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.btns {\r\n\t\tdisplay: flex;\r\n\t\theight: 100rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tborder-top: 2rpx solid #d04b41;\r\n\t\tjustify-content: center;\r\n\t\tbackground-color: #d04b41;\r\n\t}\r\n\r\n\t.btns>button {\r\n\t\tmargin: 10rpx 30rpx;\r\n\t\tcolor: #d04b41;\r\n\t\tbackground-color: white;\r\n\t\tborder: 3rpx solid #d04b41;\r\n\t}\r\n\r\n\t.popup {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\theight: 100vh;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\tz-index: 9998;\r\n\t}\r\n\r\n\t.popup-info {\r\n\t\tposition: fixed;\r\n\t\twidth: 550upx;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tfont-size: 30upx;\r\n\t\tpadding: 40upx;\r\n\t\tborder-radius: 20upx;\r\n\t\tbackground-color: #fff;\r\n\t\tz-index: 9999;\r\n\t}\r\n\r\n\t.popup-btn {\r\n\t\tmargin-top: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.popBtn {\r\n\t\tmargin: 10rpx 60rpx;\r\n\t\tborder: 2rpx solid #d04b41;\r\n\t\tfont-size: medium;\r\n\t\theight: 70rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userManage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userManage.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1672239702390\n      var cssReload = require(\"D:/Application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}