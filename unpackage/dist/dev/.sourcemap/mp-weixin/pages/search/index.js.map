{"version":3,"sources":["uni-app:///main.js","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?c4fa","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?7feb","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?73e9","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?e70a","uni-app:///pages/search/index.vue","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?7cc7","webpack:///D:/毕业实习/second-hand/test/pages/search/index.vue?0c8c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,6F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+EroB;AACA,8DADA;AAEA,MAFA,kBAEA;AACA;;AAEA,sBAFA;AAGA,sBAHA;AAIA,sBAJA;AAKA,qBALA;AAMA,mBANA;AAOA,qBAPA;;;AAUA,GAbA;AAcA,SAdA,qBAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArBA;;AAuBA;AACA,gBADA,0BACA;AACA;AACA;AACA,OAFA,CAEA;AACA;AACA;AACA;AACA;AACA,KATA;;AAWA,gBAXA,0BAWA;AACA;AACA;AACA,OAFA,CAEA;AACA;AACA;AACA;AACA;AACA,KAnBA;;AAqBA,gBArBA,0BAqBA;AACA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;;AAEA,WAJA,MAIA;AACA;AACA;AACA;AACA,SAZA;;AAcA,KArCA;;AAuCA,cAvCA,sBAuCA,IAvCA,EAuCA;AACA;AACA;AACA,KA1CA;;AA4CA,UA5CA,oBA4CA;AACA,uBADA,GACA,iBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAVA;AAYA,yEAZA,SAYA,GAZA;AAaA;AACA,gDAdA;;AAgBA;AACA,0CAjBA;;;;AAqBA,KAjEA;AAkEA,mBAlEA,2BAkEA,KAlEA,EAkEA;AACA;;AAEA;AACA,mBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;;AAEA,WAJA,MAIA;AACA;AACA;AACA;AACA,SAZA;;;AAeA,KApFA;AAqFA,iBArFA,2BAqFA;AACA;AACA,KAvFA,EAvBA,E;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAA04B,CAAgB,o2BAAG,EAAC,C;;;;;;;;;;;ACA95B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=482e85b8&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=482e85b8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"search-page\">\n\t\t<!-- 搜索框 -->\n\t\t<view class=\"top-box\">\n\t\t\t<span v-if=\"!isIndex\" class=\"top-exit\" @click=\"toSearchIndex\"> {{exitTitle}}</span>\n\t\t\t<view class=\"top-search\" >\n\t\t\t<text @click=\"search\"></text>\n\t\t\t<input placeholder=\"寻找宝贝\" v-model=\"searchValue\" confirm-type=\"search\" @confirm=\"search\">\n\t\t</view>\n\t\t</view>\n\t\t\n\t\t\n\t\t\n\t\t<view class=\"search-wrap\" v-if=\"isIndex\">\n\t\t\t<view class=\"history-wrap\" v-if=\"historyWords.length != 0\">\n\t\t\t\t<view class=\"search-header\">\n\t\t\t\t\t<text class=\"search-title\">历史搜索</text>\n\t\t\t\t\t<text class=\"search-clear\" @click=\"clearHistory\">清除</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"search-content\">\n\t\t\t\t\t<view\n\t\t\t\t\t  class=\"search-item\"\n\t\t\t\t\t  hover-class=\"hover-history-item\"\n\t\t\t\t\t  v-for=\"(item,index) of historyWords\"\n\t\t\t\t\t  :key=\"index\"\n\t\t\t\t\t  @click=\"historyTap(item)\"\n\t\t\t\t\t  @longtap=\"clearOneHistory(index)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{item}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"popular-wrap\">\n\t\t\t\t<view class=\"search-header\">\n\t\t\t\t\t<text class=\"search-title\">热门搜索</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"search-content\">\n\t\t\t\t\t<view\n\t\t\t\t\t  class=\"search-item\"\n\t\t\t\t\t  hover-class=\"hover-history-item\"\n\t\t\t\t\t  v-for=\"(item,index) of popularWords\"\n\t\t\t\t\t  :key=\"index\"\n\t\t\t\t\t  @click=\"historyTap(item)\"\n\t\t\t\t\t  \n\t\t\t\t\t>\n\t\t\t\t\t\t{{item}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\t\n\t\t<view v-else class=\"search-res-page\">\n\t\t\t\n\t\t\t<view class=\"res-title\">共找到{{searchResult.length}}条结果</view>\n\t\t\t<view class=\"search-result\">\n\t\t\t\t<!-- 每个搜索结果 -->\n\t\t\t\t<view \n\t\t\t\t\tclass=\"result-item\"\n\t\t\t\t\tv-for=\"(item,index) of searchResult\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t>\n\t\t\t\t\t<Search :goods=\"item\"></Search>\n\t\t\t\t</view>\t\n\t\t\t</view>\n\t\t\t<Nomore notips=\"没有更多了....\"></Nomore>\n\t\t</view>\n\t\t\n\t</view>\n\t\n\n</template>\n\n<script>\n\timport Goods from '@/components/goods/index.vue'\n\timport Search from '@/components/search/index.vue'\n\timport Nomore from '@/components/nomore/index.vue'\n\t\n\texport default {\n\t\tcomponents:{Goods,Search,Nomore},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t\thistoryWords: [],\n\t\t\t\tpopularWords: [],\n\t\t\t\tsearchResult:[],\n\t\t\t\tsearchValue: '',\n\t\t\t\tisIndex : true,\n\t\t\t\texitTitle:'返回'\n\t\t\t\t    \n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tconsole.log(123456)\n\t\t\t// uni.setStorageSync('historyWords',['鸡','电脑','iPhone12','车载手表','自然堂','小米10','华为','氢跑鞋','娃娃']);\n\t\t\t// uni.setStorageSync('popularWords',['iPhone12','车载手表','自然堂','小米10']);\n\t\t\tthis.queryHistory();\n\t\t\tthis.queryPopular();\n\t\t\tconsole.log(this.popularWords)\n\t\t},\n\t\t\n\t\tmethods:{\n\t\t\tqueryHistory() {\n\t\t\t\ttry{\n\t\t\t\t\tthis.historyWords = uni.getStorageSync('historyWords') || [];\n\t\t\t\t}catch(e){\n\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\tthis.$toast(e);\n\t\t\t\t\tthis.historyWords = [];\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tqueryPopular() {\n\t\t\t\ttry{\n\t\t\t\t\tthis.popularWords = uni.getStorageSync('popularWords') || [];\n\t\t\t\t}catch(e){\n\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\tthis.popularWords = [];\n\t\t\t\t\tthis.$toast(e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\tclearHistory(){\n\t\t\t\tconst that = this;\n\t\t\t\tuni.showModal({    // 弹框询问是否进行下一步事件\n\t\t\t\t        title: '提示',\n\t\t\t\t        content: '是否删除该记录',\n\t\t\t\t        success: function(res) {\n\t\t\t\t            if (res.confirm) {\n\t\t\t\t                that.historyWords = [];\n\t\t\t\t                uni.removeStorageSync('historyWords');\n\t\t\t\t\n\t\t\t\t            } else if (res.cancel) {\n\t\t\t\t                console.log('用户点击取消');\n\t\t\t\t                return\n\t\t\t\t            }\n\t\t\t\t        }\n\t\t\t\t    });\n\t\t\t},\n\t\t\n\t\t\thistoryTap(item){\n\t\t\t\tthis.searchValue = item;\n\t\t\t\tthis.search();\n\t\t\t},\n\t\t\t\n\t\t\tasync search(){\n\t\t\t\tlet keyword = this.searchValue;\n\t\t\t\tthis.isIndex = false;\n\t\t\t\tif(keyword.trim() !== ''){\n\t\t\t\t\tthis.historyWords = this.historyWords.filter(item=>item != keyword);\n\t\t\t\t\tthis.historyWords.unshift(keyword);\n\t\t\t\t\t// 存储\n\t\t\t\t\tuni.setStorageSync('historyWords',this.historyWords);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 发送请求\n\t\t\t\ttry{\n\t\t\t\t\tlet res = await this.api.get('/search/products',{keyword});\n\t\t\t\t\tthis.searchResult = res;\n\t\t\t\t\tconsole.log(this.searchResult);\n\t\t\t\t}catch(e){\n\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\tthis.$toast(e)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\tclearOneHistory(index){\n\t\t\t\tconst that = this;\n\t\t\t\t\n\t\t\t\tuni.showModal({    // 弹框询问是否进行下一步事件\n\t\t\t\t        title: '提示',\n\t\t\t\t        content: '是否删除该记录',\n\t\t\t\t        success: function(res) {\n\t\t\t\t            if (res.confirm) {\n\t\t\t\t                that.historyWords.splice(index,1);\n\t\t\t\t                uni.setStorageSync('historyWords',that.historyWords);\n\t\t\t\t\n\t\t\t\t            } else if (res.cancel) {\n\t\t\t\t                console.log('用户点击取消');\n\t\t\t\t                return\n\t\t\t\t            }\n\t\t\t\t        }\n\t\t\t\t    });\n\t\t\t\t\n\t\t\t},\n\t\t\ttoSearchIndex(){\n\t\t\t\tthis.isIndex = true\n\t\t\t}\n\t\t}\t\t\n\t}\n\n</script>\n\n<style >\n\t\n\t/* 顶部搜索 */\n\t.top-box {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t}\n\t.top-box .top-exit {\n\t\tdisplay: inline-block;\n\t\tmargin: 0.48rem auto;\n\t\theight: 2rem;\n\t\twidth: 2.2rem;\n\t\tborder-radius: 5px;\n\t\tbackground-color: #dddddd;\n\t\ttext-align: center;\n\t\tline-height: 2rem;\n\t\t\n\t\t\n\t}\n\t.top-search {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\tmargin: 0.48rem auto;\n\t\twidth: 90%;\n\t\theight: 2rem;\n\t\tbackground-color: #ebebeb;\n\t\tborder-radius: 3rem;\n\t}\n\t.top-search>text {\n\t\twidth: 1.48rem;\n\t\theight: 1.48rem;\n\t\tmargin: 0 0.68rem;\n\t\tline-height: 2rem;\n\t\tbackground-image: url('../../static/image/search.png');\n\t\tbackground-size: 1.48rem 1.48rem;\n\t\t\n\t}\n\t.top-search >input {\n\t\tflex:0.88;\n\t\theight: 100%;\n\t\tfont-size: 1rem;\n\t}\n\t/* ------------------- */\n\t\n\t\n\t.search-page {\n\t  box-sizing: border-box;\n\t  width: 100vw;\n\t  height: 100vh;\n\t  padding: 0 30rpx;\n\t}\n\n\t\n\t.search-page .search-wrap {\n\t  margin-top: 44rpx;\n\t}\n\n\t.search-page .history-wrap {\n\t  margin-bottom: 20px;\n\t}\n\n\t.search-page .search-header {\n\t  display: flex;\n\t  flex-flow: row nowrap;\n\t  justify-content: space-between;\n\t  align-items: center;\n\t}\n\n\t.search-page .search-title {\n\t  font-size: 30rpx;\n\t  font-family: PingFangSC-Semibold, PingFang SC;\n\t  font-weight: 600;\n\t  color: rgba(51, 51, 51, 1);\n\t  line-height: 42rpx;\n\t}\n\n\t.search-page .search-clear {\n\t  font-size: 24rpx;\n\t  font-family: PingFang SC;\n\t  line-height: 32rpx;\n\t  color: #999999;\n\t  font-weight: normal;\n\t}\n\n\t.search-page .search-content {\n\t  overflow: hidden;\n\t  display: flex;\n\t  flex-flow: row wrap;\n\t  justify-content: flex-start;\n\t  align-items: flex-start;\n\t  margin-top: 24rpx;\n\t}\n\n\t.search-page .search-item {\n\t  color: #333333;\n\t  font-size: 24rpx;\n\t  line-height: 32rpx;\n\t  font-weight: normal;\n\t  margin-right: 24rpx;\n\t  margin-bottom: 24rpx;\n\t  background: #f5f5f5;\n\t  border-radius: 38rpx;\n\t  padding: 12rpx 24rpx;\n\t}\n\n\t.search-page .hover-history-item {\n\t  position: relative;\n\t  top: 3rpx;\n\t  left: 3rpx;\n\t  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1) inset;\n\t}\n\n\t.add-notes__confirm {\n\t  color: #fa4126 !important;\n\t}\n\t\n\t/* 搜索结果 */\n\t\n\t\n\t.search-result {\n\t\t/* margin: 2rem auto; */\n\t}\n\t\n\t.search-res-page .res-title {\n\t\tmargin: 1rem 0;\n\t\tfont-size: 1.2rem;\n\t\ttext-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);\n\t}\n\t.search-result .result-item {\n\t\tmargin: 2rem auto;\n\t\twidth: 100%;\n\t\theight: 50vw;\n\t\tborder-radius: 1rem 1rem 0 0;\n\t\tbackground-color: #ffffff;\n\t\tborder-bottom: 2px solid #dddddd ;\n\t\tborder-right: 2px solid #dddddd ;\n\t\t\n\t}\n\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1669623384620\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}